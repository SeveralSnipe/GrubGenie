<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API Documentation</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        padding: 20px;
      }

      h1,
      h2,
      h3,
      h4 {
        margin-top: 30px;
      }

      pre {
        background-color: #f4f4f4;
        padding: 10px;
        border-radius: 5px;
        overflow-x: auto;
      }

      code {
        font-size: 90%;
      }

      .get {
        color: green;
      }

      .post {
        color: blue;
      }

      .patch {
        color: orange;
      }
    </style>
  </head>
  <body>
    <h1>API Documentation</h1>

    <h2>UserStoreRoutes</h2>

    <h3>User Items</h3>

    <h4 class="get">GET "/UserStoreRouter/userItems/:UserId"</h4>
    <p>Retrieves items associated with a particular user.</p>
    <p><strong>Parameters:</strong> UserId (string)</p>

    <h3>User Stores</h3>

    <h4 class="get">GET "/UserStoreRouter/userStore/:UserId"</h4>
    <p>Retrieves stores visited by a particular user.</p>
    <p><strong>Parameters:</strong> UserId (string)</p>

    <h4 class="get">GET "/UserStoreRouter/StoreItems/:ItemId"</h4>
    <p>Retrieves stores associated with a particular item.</p>
    <p><strong>Parameters:</strong> ItemId (string)</p>

    <h2>VendorRoutes</h2>

    <h3>Register Item</h3>

    <h4 class="post">POST "/VendorRouter/registerItem"</h4>
    <p>Registers a new item in the store.</p>
    <pre><code>{
  "ExpiryDate": "2024-12-31",
  "ItemMRP": 50,
  "ItemSP": 40,
  "ItemName": "Sample Item",
  "StockQuantity": 100,
  "StoreId": "ST1234"
}</code></pre>
    <p><strong>Response:</strong></p>
    <pre><code>{
    "message": "success",
    "itemId" : "It124benje2j"
}</code></pre>

    <h4 class="patch">PATCH "/VendorRouter/updateItem/:itemId"</h4>
    <p>Updates information of an existing item.</p>
    <p><strong>Parameters:</strong> itemId (string)</p>
    <pre><code>{
  "ItemName": "New Name",
  "ExpiryDate": "2024-12-31",
  "StockQuantity": 150,
  "ItemMRP": 60,
  "ItemSP": 45 
}</code></pre>
    <p><strong>Response:</strong></p>
    <pre><code>{
    "message": "success",
    "itemId" : "It124benje2j"
}</code></pre>

    <h2>RegisterRoutes</h2>

    <h3>Register Store</h3>

    <h4 class="post">POST "/RegisterRouter/registerStore"</h4>
    <p>Registers a new store.</p>
    <pre><code>{
  "StoreName": "New Store",
  "GST": "1234567890",
  "Email": "example@store.com",
  "Location": [12.34, 56.78],
  "PhoneNumber": "1234567890",
  "Password":"123abc"
}</code></pre>
    <p>response is store id</p>
    <h3>Register User</h3>

    <h4 class="post">POST "/RegisterRouter/registerUser"</h4>
    <p>Registers a new user.</p>
    <pre><code>{
  "UserName": "John Doe",
  "DOB": "1990-01-01",
  "Email": "john@example.com",
  "PhoneNumber": "1234567890",
  "Password":"123abc"
}</code></pre>
    <p>response is userid OR StoreId</p>

    <h2>Login Routes</h2>

    <h3>Login Store</h3>

    <h4 class="post">POST "/LoginRouter/loginStore"</h4>
    <p>Logs in a store.</p>
    <pre><code>{
  "Identifer":"email or storeid"
  "Password":"123abc"
}</code></pre>
    <p>response is store id</p>
    <h3>login User</h3>

    <h4 class="post">POST "/LoginRouter/loginUser"</h4>
    <p>Logs in a user.</p>
    <pre><code>{
        "Identifer":"email or userid"
        "Password":"123abc"
}</code></pre>
    <p>response is userid OR StoreId</p>

    <h2>CommerceNearMeRoutes</h2>

    <h3>CommerceNearMeRouter</h3>
    <h3>Store Items</h3>

    <h4 class="get">GET "/CommerceNearMeRouter/StoreItems/:storeId"</h4>
    <p>Retrieves all items associated with a specific store.</p>
    <p><strong>Parameters:</strong> storeId (string)</p>
    <p>
      <strong>Response:</strong> JSON object containing the items associated
      with the specified store.
    </p>
    <pre>
        <code>
            {
                "results": [
                    {
                        "ExpiryDate": {
                            "_seconds": 1735603200,
                            "_nanoseconds": 0
                        },
                        "ItemMRP": 50,
                        "ItemSP": 40,
                        "StockQuantity": 100,
                        "ItemName": "Sample Item",
                        "ItemId": "IT53Q74ZFEVH",
                        "StoreId": "SIYAJL3UFF4L"
                    }
                ]
            }
        </code>
    </pre>
    <h4 class="get">GET "/CommerceNearMeRouter/AllStores"</h4>
    <p>Retrieves all store details in alphabetical order.</p>
    <p><strong>Response:</strong></p>
    <pre><code>{
    "result": [
        {
            "name": "BoomFood",
            "storeid": "ST1234",
            "Location": {
                "_latitude": 12.924395943097053,
                "_longitude": 80.1968461022967
            }
        },
        {
            "name": "RAJA STORES",
            "storeid": "SIJJHje7eDea",
            "Location": [
                65.231,
                71.341
            ]
        },
        {
            "name": "RAM STORES",
            "storeid": "SIYM1E2K1UX5",
            "Location": {
                "_latitude": 12.924395943097053,
                "_longitude": 15.924395943097053
            }
        }
    ]
}</code></pre>

    <h4 class="post">POST "/CommerceNearMeRouter/AllItems"</h4>
    <p>Retrieves all items within a certain distance from a given location.</p>
    <pre><code>{
    "sorts": "dist",
    "Location": [80,70],
    "maxDist": 100000
}</code></pre>
    <p><strong>Response:</strong></p>
    <pre><code>{
    "result": [
        {
            "ExpiryDate": {
                "_seconds": 1735603200,
                "_nanoseconds": 0
            },
            "ItemMRP": 50,
            "ItemSP": 40,
            "StoreId": "ST1234",
            "StockQuantity": 100,
            "ItemName": "Sample Item",
            "ItemId": "IT53Q74ZFEVH",
            "store": {
                "StoreId": "ST1234",
                "StoreName": "BoomFood",
                "GSTNo": 12431241241,
                "PhoneNumber": 9876543211,
                "email": "boom@gmail.com",
                "Location": {
                    "_latitude": 12.924395943097053,
                    "_longitude": 80.1968461022967
                }
            },
            "distance": 7476.947171019389
        },
        {
            "StockQuantity": 12345678942,
            "ItemName": "Wheat",
            "ItemId": "ITCWXL90536A",
            "ItemMRP": 440,
            "StoreId": "SIYM1E2K1UX5",
            "ExpiryDate": {
                "_seconds": 1709058600,
                "_nanoseconds": 688000000
            },
            "store": {
                "Email": "rM@gmail.com",
                "StoreId": "SIYM1E2K1UX5",
                "StoreName": "RAM STORES",
                "GST": 241222231,
                "Location": {
                    "_latitude": 12.924395943097053,
                    "_longitude": 15.924395943097053
                }
            },
            "distance": 7935.222582762425
        }
    ]
}</code></pre>

    <h4 class="post">POST "/CommerceNearMeRouter/AllItemsGeneral"</h4>
    <p>Retrieves all items without any sorting.</p>
    <p><strong>Response:</strong></p>
    <pre><code>{
    "result": [
        {
            "ExpiryDate": {
                "_seconds": 1735603200,
                "_nanoseconds": 0
            },
            "ItemMRP": 50,
            "ItemSP": 40,
            "StoreId": "ST1234",
            "StockQuantity": 100,
            "ItemName": "Sample Item",
            "ItemId": "IT53Q74ZFEVH",
            "store": {
                "StoreId": "ST1234",
                "StoreName": "BoomFood",
                "GSTNo": 12431241241,
                "PhoneNumber": 9876543211,
                "email": "boom@gmail.com",
                "Location": {
                    "_latitude": 12.924395943097053,
                    "_longitude": 80.1968461022967
                }
            }
        },
        {
            "StockQuantity": 12345678942,
            "ItemName": "Wheat",
            "ItemId": "ITCWXL90536A",
            "ItemMRP": 440,
            "StoreId": "SIYM1E2K1UX5",
            "ExpiryDate": {
                "_seconds": 1709058600,
                "_nanoseconds": 688000000
            },
            "store": {
                "Email": "rM@gmail.com",
                "StoreId": "SIYM1E2K1UX5",
                "StoreName": "RAM STORES",
                "GST": 241222231,
                "Location": {
                    "_latitude": 12.924395943097053,
                    "_longitude": 15.924395943097053
                }
            }
        },
        {
            "ExpiryDate": {
                "_seconds": 1709145000,
                "_nanoseconds": 723000000
            },
            "StoreId": "ST1234",
            "ItemName": "Chicken",
            "ItemId": "IT1234",
            "StockQuantity": 42,
            "ItemMRP": 432,
            "store": {
                "StoreId": "ST1234",
                "StoreName": "BoomFood",
                "GSTNo": 12431241241,
                "PhoneNumber": 9876543211,
                "email": "boom@gmail.com",
                "Location": {
                    "_latitude": 12.924395943097053,
                    "_longitude": 80.1968461022967
                }
            }
        }
    ]
}</code></pre>

    <h4 class="post">POST "/CommerceNearMeRouter/StoreNearMeDist"</h4>
    <p>Retrieves stores within a certain distance from a given location.</p>
    <pre><code>{
    "sorts": "dist",
    "Location": [80,70],
    "maxDist": 100000
}</code></pre>
    <p><strong>Response:</strong></p>
    <pre><code>{
    "result": [
        {
            "StoreId": "ST1234",
            "StoreName": "BoomFood",
            "GSTNo": 12431241241,
            "PhoneNumber": 9876543211,
            "email": "boom@gmail.com",
            "Location": {
                "_latitude": 12.924395943097053,
                "_longitude": 80.1968461022967
            },
            "distance": 7476.947171019389
        },
        {
            "Email": "rM@gmail.com",
            "StoreId": "SIYM1E2K1UX5",
            "StoreName": "RAM STORES",
            "GST": 241222231,
            "Location": {
                "_latitude": 12.924395943097053,
                "_longitude": 15.924395943097053
            },
            "distance": 7935.222582762425
        }
    ]
}</code></pre>

    <h4 class="post">POST "/CommerceNearMeRouter/StoreNearMeWithItemNames"</h4>
    <p>
      Retrieves stores with their respective items within a certain distance
      from a given location.
    </p>
    <pre><code>{
    "sorts": "dist",
    "location": [80,70],
    "maxDist": 100000,
}</code></pre>
    <p><strong>Response:</strong></p>
    <pre><code>{
    "result": [
        {
            "StoreId": "ST1234",
            "StoreName": "BoomFood",
            "GSTNo": 12431241241,
            "PhoneNumber": 9876543211,
            "email": "boom@gmail.com",
            "Location": {
                "_latitude": 12.924395943097053,
                "_longitude": 80.1968461022967
            },
            "items": [
                {
                    "ExpiryDate": {
                        "_seconds": 1735603200,
                        "_nanoseconds": 0
                    },
                    "ItemMRP": 50,
                    "ItemSP": 40,
                    "StoreId": "ST1234",
                    "StockQuantity": 100,
                    "ItemName": "Sample Item",
                    "ItemId": "IT53Q74ZFEVH"
                },
                {
                    "ExpiryDate": {
                        "_seconds": 1709145000,
                        "_nanoseconds": 723000000
                    },
                    "StoreId": "ST1234",
                    "ItemName": "Chicken",
                    "ItemId": "IT1234",
                    "StockQuantity": 42,
                    "ItemMRP": 432
                }
            ],
            "distance": 7476.947171019389
        },
        {
            "Email": "rM@gmail.com",
            "StoreId": "SIYM1E2K1UX5",
            "StoreName": "RAM STORES",
            "GST": 241222231,
            "Location": {
                "_latitude": 12.924395943097053,
                "_longitude": 15.924395943097053
            },
            "items": [
                {
                    "StockQuantity": 12345678942,
                    "ItemName": "Wheat",
                    "ItemId": "ITCWXL90536A",
                    "ItemMRP": 440,
                    "StoreId": "SIYM1E2K1UX5",
                    "ExpiryDate": {
                        "_seconds": 1709058600,
                        "_nanoseconds": 688000000
                    }
                }
            ],
            "distance": 7935.222582762425
        }
    ]
}</code></pre>

    <h4 class="post">POST "/CommerceNearMeRouter/ItemNearMeWithStore"</h4>
    <p>
      Retrieves items with their respective stores within a certain distance
      from a given location.
    </p>
    <pre><code>{
    "sorts": "dist",
    "location": [80,70],
    "maxDist": 100000,
    "item": "chicken"
}</code></pre>
    <p><strong>Response:</strong></p>
    <pre><code>{
    "result": [
        {
            "ExpiryDate": {
                "_seconds": 1709145000,
                "_nanoseconds": 723000000
            },
            "StoreId": "ST1234",
            "ItemName": "Chicken",
            "ItemId": "IT1234",
            "StockQuantity": 42,
            "ItemMRP": 432,
            "store": {
                "StoreId": "ST1234",
                "StoreName": "BoomFood",
                "GSTNo": 12431241241,
                "PhoneNumber": 9876543211,
                "email": "boom@gmail.com",
                "Location": {
                    "_latitude": 12.924395943097053,
                    "_longitude": 80.1968461022967
                }
            },
            "distance": 7476.947171019389
        }
    ]
}</code></pre>

    <h2>CommerceRequestRouter</h2>

    <h3>Request Item</h3>

    <h4 class="post">
      POST "http://localhost:5000/CommerceRequestRouter/requestItem"
    </h4>
    <p>Requests an item from the store.</p>
    <pre><code>
        {
            "UserId": "UIRJ2J8QZKQ4",
            "Location": [13.113715408791111, 80.21668124172232],
            "Orders": {
            "SIE6SEP0E262":{"ITJDATUDHR2M":2}
            },
            "CostPrice": 4022,
            "DiscountPrice":500, (optional)
            "Status": "Pending",
            "AdditionalNotes": "Please deliver before 5 PM."
            }
</code></pre>
    <p><strong>Response:</strong></p>
    <pre><code>{
"message": "Request saved successfully.",
"requestId": "RQEPR81XNV44"
}</code></pre>

    <h4 class="patch">
      PATCH
      "http://localhost:5000/CommerceRequestRouter/requestItem/RQEPR81XNV44"
    </h4>
    <p>Updates a request for an item.</p>
    <pre><code>{
"AdditionalNotes": "Alright"
}</code></pre>
    <p><strong>Response:</strong></p>
    <pre><code>{
"message": "Request updated successfully.",
"requestId": "RQEPR81XNV44"
}</code></pre>
    <h3>Request for Store</h3>

    <h4 class="get">GET "/CommerceRequestRouter/requestStore/:storeid"</h4>
    <p>Retrieves details of requests for a specific store.</p>
    <p><strong>Parameters:</strong> storeid (string)</p>
    <p>
      <strong>Response:</strong> JSON object containing details of the requests
      for the specified store.
    </p>
    <pre><code>
    {
        "result": [
            {
                "Status": "Pending",
                "RequestId": "RQEPR81XNV44",
                "Location": {
                    "_latitude": 40.7128,
                    "_longitude": -74.006
                },
                "AdditionalNotes": [
                    "Please deliver before 5 PM.",
                    "Alright"
                ],
                "UserId": "UIB06RPMVS4B",
                "Orders": {
                    "SIYAJL3UFF4L": {
                        "IT53Q74ZFEVH": 20,
                        "IT1JHI48YO0U": 10
                    },
                    "SIJT0AG7QPH9": {
                        "ITVJ513ZSVNL": 5
                    }
                },
                "CostPrice": 4150,
                "DiscountPrice": 3400
            }
        ]
    }
</code></pre>
    <h3>Request by User</h3>

    <h4 class="get">GET "/CommerceRequestRouter/requestUser/:userid"</h4>
    <p>Retrieves details of requests for a specific user.</p>
    <p><strong>Parameters:</strong> userid (string)</p>
    <p>
      <strong>Response:</strong> JSON object containing details of the requests
      for the specified user.
    </p>
    <pre>
<code>
    {
        "result": [
            {
                "Status": "Pending",
                "RequestId": "RQEPR81XNV44",
                "Location": {
                    "_latitude": 40.7128,
                    "_longitude": -74.006
                },
                "AdditionalNotes": [
                    "Please deliver before 5 PM.",
                    "Alright"
                ],
                "UserId": "UIB06RPMVS4B",
                "Orders": {
                    "SIYAJL3UFF4L": {
                        "IT53Q74ZFEVH": 20,
                        "IT1JHI48YO0U": 10
                    },
                    "SIJT0AG7QPH9": {
                        "ITVJ513ZSVNL": 5
                    }
                },
                "CostPrice": 4150,
                "DiscountPrice": 3400
            },
            {
                "Status": "Pending",
                "Orders": {
                    "SIJT0AG7QPH9": {
                        "ITH3JHO2C3FU": 1
                    }
                },
                "AdditionalNotes": [
                    "Please deliver before 5 PM."
                ],
                "RequestId": "RQFAVBYPNUQ2",
                "UserId": "UIB06RPMVS4B",
                "CostPrice": 15,
                "Location": {
                    "_latitude": 13.113715408795796,
                    "_longitude": 80.21668124171242
                },
                "DiscountPrice": 10
            }
        ]
    }
</code>
</pre><h2>UnMappedRouter</h2>

<h3>Add To UnmappedItemDetails Collection</h3>

<h4 class="post">POST "/UMRequest"</h4>
<p>Adds a request to the UnmappedItemDetails collection.</p>
<pre><code>{ /* Request Body Example */
  "Location": [latitude, longitude],
  "UserId": "userId",
  "Item": {
    "ItemName": "itemName",
    "ItemQuantity": quantity
  },
  "PreferedPrice": preferredPrice,
  "AgreedPrice": agreedPrice, /* Optional */
  "AdditionalNotes": ["note1", "note2", ...] /* Optional */
}</code></pre>
<p><strong>Response:</strong></p>
<pre><code>{
"message": "Request saved successfully.",
"requestId": "requestId"
}</code></pre>

<h4 class="patch">PATCH "/updateUMItem/:itemId"</h4>
<p>Updates information of an item in the UnmappedItemDetails collection.</p>
<p><strong>Parameters:</strong> itemId (string)</p>
<pre><code>{ /* Request Body Example */
  "ExpiryDate": "expiryDate", /* Optional */
  "StockQuantity": stockQuantity, /* Optional */
  "AgreedPrice": agreedPrice, /* Optional */
  "Status": "status", /* Optional */
  "AdditionalNotes": ["note1", "note2", ...], /* Optional */
  "StoreId": "storeId"
}</code></pre>
<p><strong>Response:</strong></p>
<pre><code>{
"message": "success"
}</code></pre>

<h3>Retrieve Not Claimed Unmapped Requests</h3>

<h4 class="get">GET "/NotClaimedUMReqs/store/:storeId"</h4>
<p>Retrieves unclaimed requests for a specific store.</p>
<p><strong>Parameters:</strong> storeId (string)</p>
<p><strong>Response:</strong></p>
<pre><code>{
"result": [
  {
    "RequestId": "requestId1",
    "UserId": "userId1",
    "Location": {
      "_latitude": latitude,
      "_longitude": longitude
    },
    "Item": {
      "ItemId": "itemId1",
      "ItemName": "itemName1",
      "Quantity": quantity1
    },
    "PreferedPrice": preferredPrice1,
    "AgreedPrice": agreedPrice1,
    "Status": "status1",
    "AdditionalNotes": ["note1", "note2", ...]
  },
  {
    "RequestId": "requestId2",
    "UserId": "userId2",
    "Location": {
      "_latitude": latitude,
      "_longitude": longitude
    },
    "Item": {
      "ItemId": "itemId2",
      "ItemName": "itemName2",
      "Quantity": quantity2
    },
    "PreferedPrice": preferredPrice2,
    "AgreedPrice": agreedPrice2,
    "Status": "status2",
    "AdditionalNotes": ["note1", "note2", ...]
  },
  ...
]
}</code></pre>

<h4 class="get">GET "/NotClaimedUMReqs/user/:userId"</h4>
<p>Retrieves unclaimed requests for a specific user.</p>
<p><strong>Parameters:</strong> userId (string)</p>
<p><strong>Response:</strong></p>
<pre><code>{
"result": [
  {
    "RequestId": "requestId1",
    "UserId": "userId1",
    "Location": {
      "_latitude": latitude,
      "_longitude": longitude
    },
    "Item": {
      "ItemId": "itemId1",
      "ItemName": "itemName1",
      "Quantity": quantity1
    },
    "PreferedPrice": preferredPrice1,
    "AgreedPrice": agreedPrice1,
    "Status": "status1",
    "AdditionalNotes": ["note1", "note2", ...]
  },
  {
    "RequestId": "requestId2",
    "UserId": "userId2",
    "Location": {
      "_latitude": latitude,
      "_longitude": longitude
    },
    "Item": {
      "ItemId": "itemId2",
      "ItemName": "itemName2",
      "Quantity": quantity2
    },
    "PreferedPrice": preferredPrice2,
    "AgreedPrice": agreedPrice2,
    "Status": "status2",
    "AdditionalNotes": ["note1", "note2", ...]
  },
  ...
]
}</code></pre>

</body>
</html>
